<div class="bg-white rounded-xl shadow-sm border border-slate-200 h-full flex flex-col">
    
    <div class="p-6 border-b border-slate-100 flex justify-between items-center">
        <div>
            <a routerLink="/accounts" class="text-xs font-bold text-slate-400 hover:text-blue-600 uppercase mb-1 flex items-center">
                <svg class="w-3 h-3 mr-1" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10 19l-7-7m0 0l7-7m-7 7h18" /></svg>
                Back to Chart
            </a>
            
            <h2 *ngIf="account" class="text-2xl font-bold text-slate-800 flex items-center">
                <span class="font-mono text-slate-400 mr-3 text-lg">{{ account.code }}</span>
                {{ account.name }}
            </h2>
            <div *ngIf="isLoading" class="h-8 w-48 bg-slate-100 rounded animate-pulse"></div>
        </div>

        <div class="text-right">
            <p class="text-xs font-bold text-slate-500 uppercase">Current Balance</p>
            <p *ngIf="!isLoading" class="text-3xl font-bold text-slate-800 font-mono">
                {{ balance | number:'1.2-2' }}
            </p>
        </div>
    </div>

    <div class="flex-1 overflow-auto">
        <table class="w-full text-left border-collapse">
            <thead class="bg-slate-50 text-xs font-bold text-slate-500 uppercase sticky top-0">
                <tr>
                    <th class="px-6 py-3 border-b border-slate-200">Date</th>
                    <th class="px-6 py-3 border-b border-slate-200">Ref #</th>
                    <th class="px-6 py-3 border-b border-slate-200">Narration</th>
                    <th class="px-6 py-3 border-b border-slate-200 text-right">Debit</th>
                    <th class="px-6 py-3 border-b border-slate-200 text-right">Credit</th>
                    <th class="px-6 py-3 border-b border-slate-200 text-right bg-slate-100">Balance</th>
                </tr>
            </thead>
            <tbody class="text-sm">
                
                <tr *ngFor="let row of entries" class="hover:bg-blue-50 border-b border-slate-50">
                    <td class="px-6 py-3 whitespace-nowrap">{{ row.date | date:'mediumDate' }}</td>
                    <td class="px-6 py-3 font-mono text-xs text-blue-600">{{ row.number }}</td>
                    <td class="px-6 py-3 text-slate-600">{{ row.narration }}</td>
                    
                    <td class="px-6 py-3 text-right font-mono">
                        <span *ngIf="row.dc === 'D'" class="text-slate-800">{{ row.amount | number:'1.2-2' }}</span>
                        <span *ngIf="row.dc !== 'D'" class="text-slate-300">-</span>
                    </td>

                    <td class="px-6 py-3 text-right font-mono">
                        <span *ngIf="row.dc === 'C'" class="text-slate-800">{{ row.amount | number:'1.2-2' }}</span>
                        <span *ngIf="row.dc !== 'C'" class="text-slate-300">-</span>
                    </td>

                    <td class="px-6 py-3 text-right font-bold font-mono bg-slate-50">
                        {{ row.running_balance | number:'1.2-2' }}
                    </td>
                </tr>

                <tr *ngIf="!isLoading && entries.length === 0">
                    <td colspan="6" class="px-6 py-12 text-center text-slate-400">
                        No transactions found for this account.
                    </td>
                </tr>

            </tbody>
        </table>
    </div>
</div>